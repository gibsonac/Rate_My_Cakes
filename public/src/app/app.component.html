<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<Header>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</Header>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
<form class="form-inline my-2 my-lg-0" (submit)="CakeSearch()">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="cakeSearch" [(ngModel)]="cakeSearch">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
</nav>

<!-- <input type="text" placeholder="search" [(ngModel)]="searchValue">
<div *ngFor="let cake of cakes | filter: 'baker' : searchValue: 'includes'">
  <span>{{cake.baker}}</span>
</div> -->


<div class="row">
  <div class="col col-md-4">
    <div *ngIf="haveErrors">
      <p>{{errors}}</p>
    </div>
    <form (submit)="newCake()">
      <p> {{ postCake | json }} </p>
      <div class="form-group">
        <label>Baker Name</label>
        <input type="text" class="form-control" name="postCake.baker" [(ngModel)]="postCake.baker">
      </div>
      <div class="form-group">
        <label>Image URL:</label>
        <input type="text" class="form-control" name="postCake.url" [(ngModel)]="postCake.url">
      </div>
      <button type="submit">Submit</button>
    </form>
  </div>
  <div class="col col-md-8">
    <!-- How I learned to do the search function: https://stackoverflow.com/questions/55351277/dynamic-search-filter-in-angular-7 -->
    <label for="">Search for Baker Name: </label> <input type="text" placeholder="search" [(ngModel)]="searchValue">
    <div style="max-height: 350px; overflow: auto;">
      <div class="row cake" *ngFor="let cake of cakes  | filter: 'baker' : searchValue: 'includes'"
        style="border: 2px solid black; margin: 4px;">
        <div class="col">
          <h4>{{cake.baker}}</h4>
          <img src="{{cake.url}}" alt="cake pppiicccc" (click)="CakeToShow(cake)">
        </div>
        <div class="col">
          <div *ngIf="ratinghaveErrors">
            <p>{{ratingErrors}}</p>
          </div>
          <!-- <app-rating [theCake]="cake._id"></app-rating> -->
          <form (submit)="newReview(cake._id)">
            <div class="form-group">
              <label>Star Ratings</label>
              <select class="form-control" name="theReview.star" [(ngModel)]="theReview.star">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
            </div>
            <div class="form-group">
              <label>Comment</label>
              <textarea class="form-control" rows="2" name="theReview.comment"
                [(ngModel)]="theReview.comment"></textarea>
            </div>
            <button type="submit">Rate</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <app-cake *ngIf="SelectedCake" [CakeToShow]="SelectedCake"></app-cake>
  <hr>
  <!-- <p>Baker: {{theCake.baker}}</p>
  <img src="{{theCake.url}}" alt="cake pppiicccc"> -->
  <!-- <p *ngFor="let cake of theCake._ratings">{{cake.star}} stars - {{cake.comment}}</p> -->
</div>



<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->



<router-outlet></router-outlet>